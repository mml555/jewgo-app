(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{9163:function(e,t,s){Promise.resolve().then(s.bind(s,3928)),Promise.resolve().then(s.bind(s,2326))},3928:function(e,t,s){"use strict";s.d(t,{default:function(){return l}});var r=s(7437),n=s(2265),o=s(257);let i={isLoading:!1,isLoaded:!1,scriptElement:null};function l(e){let{children:t}=e,[s,l]=(0,n.useState)(!1),[a,c]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{(()=>{if(i.isLoaded||window.google&&window.google.maps){l(!0),c(!1);return}if(i.isLoading&&i.scriptElement){console.log("Google Maps script already loading globally, waiting...");let e=()=>{window.google&&window.google.maps?(i.isLoaded=!0,i.isLoading=!1,l(!0),c(!1)):setTimeout(e,100)};e();return}if(document.querySelector('script[src*="maps.googleapis.com"]')){console.log("Google Maps script already in DOM, waiting for load...");let e=()=>{window.google&&window.google.maps?(i.isLoaded=!0,i.isLoading=!1,l(!0),c(!1)):setTimeout(e,100)};e();return}let e=o.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY;if(console.log("Google Maps API Key:",e?"Present":"Missing"),!e){console.error("Google Maps API key is missing. Please set NEXT_PUBLIC_GOOGLE_MAPS_API_KEY in your environment variables."),c(!1);return}i.isLoading=!0;let t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=".concat(e,"&libraries=places,geometry&loading=async"),t.async=!0,t.defer=!0,i.scriptElement=t;let s=setTimeout(()=>{console.error("Google Maps script failed to load within 30 seconds"),i.isLoading=!1,i.scriptElement=null,c(!1)},3e4);t.onload=()=>{clearTimeout(s),i.isLoaded=!0,i.isLoading=!1,i.scriptElement=null,l(!0),c(!1),console.log("Google Maps script loaded successfully")},t.onerror=()=>{clearTimeout(s),console.error("Failed to load Google Maps API"),i.isLoading=!1,i.scriptElement=null,c(!1)},document.head.appendChild(t)})()},[]),a)?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-jewgo-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading maps..."})]})}):s?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-red-600 mb-2",children:"Failed to load Google Maps"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"Please check your internet connection and try again."})]})})}},2326:function(e,t,s){"use strict";s.d(t,{default:function(){return i}});var r=s(7437),n=s(2265),o=s(1055);function i(){let[e,t]=(0,n.useState)([]),[s,i]=(0,n.useState)(null);return(0,r.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"\uD83D\uDCCD Location Search Test"}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)(o.Z,{onRestaurantSearch:e=>{let s='\uD83C\uDF7D️ Restaurant search: "'.concat(e,'"');t(e=>[s,...e.slice(0,9)]),console.log(s)},onLocationSearch:(e,s)=>{let r='\uD83D\uDCCD Location search: "'.concat(s,'" -> ').concat(e.latitude.toFixed(6),", ").concat(e.longitude.toFixed(6));t(e=>[r,...e.slice(0,9)]),i(e),console.log(r)},onUseCurrentLocation:()=>{let e="\uD83D\uDCCD Use current location clicked";t(t=>[e,...t.slice(0,9)]),console.log(e)},restaurants:[{id:1,name:"Pizza Place",address:"123 Main St",city:"Miami"},{id:2,name:"Sushi Bar",address:"456 Oak Ave",city:"Miami Beach"},{id:3,name:"Burger Joint",address:"789 Pine Rd",city:"Hollywood"}]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"\uD83D\uDD0D Search Log"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg h-64 overflow-y-auto",children:0===e.length?(0,r.jsx)("p",{className:"text-gray-500",children:"No searches yet. Try searching for something!"}):(0,r.jsx)("div",{className:"space-y-2",children:e.map((e,t)=>(0,r.jsx)("div",{className:"text-sm bg-white p-2 rounded border",children:e},t))})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"\uD83D\uDCCD Current Location"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:s?(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Latitude:"})," ",s.latitude.toFixed(6)]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Longitude:"})," ",s.longitude.toFixed(6)]}),s.accuracy&&(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Accuracy:"})," ",s.accuracy,"m"]}),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)("a",{href:"https://www.google.com/maps?q=".concat(s.latitude,",").concat(s.longitude),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"\uD83D\uDD17 View on Google Maps"})})]}):(0,r.jsx)("p",{className:"text-gray-500",children:"No location set"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"\uD83E\uDDEA Test Examples"}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm font-semibold mb-2",children:"Try these location searches:"}),(0,r.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Zip Codes:"}),' "33139", "33019", "33487"']}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Cities:"}),' "Miami Beach, FL", "Boca Raton", "Hollywood"']}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Addresses:"}),' "123 Main St", "456 Oak Avenue"']}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Any Location:"})," Type any address or place name"]})]}),(0,r.jsx)("p",{className:"text-sm font-semibold mt-3 mb-2",children:"Restaurant searches:"}),(0,r.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Names:"}),' "Pizza", "Sushi", "Burger"']}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Filters:"}),' "ORB Certified", "Meat Restaurants"']})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"✨ New Features"}),(0,r.jsx)("div",{className:"bg-green-50 p-4 rounded-lg",children:(0,r.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,r.jsxs)("li",{children:["✅ ",(0,r.jsx)("strong",{children:"Google Places Autocomplete:"})," Real-time location suggestions"]}),(0,r.jsxs)("li",{children:["✅ ",(0,r.jsx)("strong",{children:"Smart Detection:"})," Automatically detects location vs restaurant searches"]}),(0,r.jsxs)("li",{children:["✅ ",(0,r.jsx)("strong",{children:"Dynamic Search:"}),' "Search for any location" option appears for unknown places']}),(0,r.jsxs)("li",{children:["✅ ",(0,r.jsx)("strong",{children:"Enhanced Suggestions:"})," More cities, zip codes, and popular locations"]}),(0,r.jsxs)("li",{children:["✅ ",(0,r.jsx)("strong",{children:"Real-time Geocoding:"})," Converts addresses to coordinates instantly"]})]})})]})]})]})]})}},1055:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var r=s(7437),n=s(2265),o=s(3247),i=s(2489),l=s(3774),a=s(8809);function c(e){let{onRestaurantSearch:t,onLocationSearch:s,onUseCurrentLocation:c,placeholder:d="Search restaurants, locations, cities, or zip codes...",restaurants:u=[]}=e,[h,m]=(0,n.useState)(""),[g,p]=(0,n.useState)(!1),[f,x]=(0,n.useState)(!1),[y,j]=(0,n.useState)([]),v=(0,n.useRef)(null),w=()=>window.google&&window.google.maps&&window.google.maps.Geocoder,b=async()=>{if(h.trim()){console.log("Starting location search for:",h),p(!0);try{if(!w()){console.error("Google Maps API not loaded"),t(h);return}let e=new window.google.maps.Geocoder;console.log("Geocoding address:",h);let r=await e.geocode({address:h});if(console.log("Geocoding result:",r),r.results[0]){let e=r.results[0].geometry.location,t={latitude:e.lat(),longitude:e.lng()};console.log("Location found:",t),s(t,h)}else console.log("No results found for address:",h),t(h)}catch(e){console.error("Error in location search:",e),t(h)}finally{p(!1),x(!1)}}},N=()=>{h.trim()&&((["street","avenue","road","drive","lane","boulevard","way","plaza","square","park"].some(e=>h.toLowerCase().includes(e))||/\d/.test(h))&&w()?b():t(h))},L=e=>{m(e),x(!1),t(e)};return(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(o.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{ref:v,type:"text",value:h,onChange:e=>{let t=e.target.value;m(t),t.trim().length>2?(j((0,a.qP)(u,e=>{var s,r,n;return(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase()))||(null===(r=e.address)||void 0===r?void 0:r.toLowerCase().includes(t.toLowerCase()))||(null===(n=e.city)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))||!1}).map(e=>e.name||"Unknown Restaurant").slice(0,5)),x(!0)):x(!1)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),h.trim()&&N())},placeholder:d,className:"block w-full pl-10 pr-20 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jewgo-primary focus:border-transparent bg-white shadow-sm"}),h&&(0,r.jsx)("button",{onClick:()=>{m(""),x(!1),j([]),v.current&&v.current.focus()},className:"absolute inset-y-0 right-16 pr-3 flex items-center",children:(0,r.jsx)(i.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})}),(0,r.jsx)("button",{onClick:c,className:"absolute inset-y-0 right-0 pr-3 flex items-center",title:"Use current location",children:(0,r.jsx)(l.Z,{className:"h-5 w-5 text-jewgo-primary hover:text-jewgo-primary-dark"})})]}),f&&y.length>0&&(0,r.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:y.map((e,t)=>(0,r.jsx)("button",{onClick:()=>L(e),className:"w-full px-4 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",children:e},t))}),g&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 rounded-lg",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-jewgo-primary"})})]})}},9763:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{color:l="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:d,children:u,...h}=s;return(0,r.createElement)("svg",{ref:i,...n,width:a,height:a,stroke:l,strokeWidth:d?24*Number(c)/Number(a):c,className:"lucide lucide-".concat(o(e)),...h},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...(Array.isArray(u)?u:[u])||[]])});return s.displayName="".concat(e),s}},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},257:function(e,t,s){"use strict";var r,n;e.exports=(null==(r=s.g.process)?void 0:r.env)&&"object"==typeof(null==(n=s.g.process)?void 0:n.env)?s.g.process:s(4227)},4227:function(e){!function(){var t={229:function(e){var t,s,r,n=e.exports={};function o(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{s="function"==typeof clearTimeout?clearTimeout:i}catch(e){s=i}}();var a=[],c=!1,d=-1;function u(){c&&r&&(c=!1,r.length?a=r.concat(a):d=-1,a.length&&h())}function h(){if(!c){var e=l(u);c=!0;for(var t=a.length;t;){for(r=a,a=[];++d<t;)r&&r[d].run();d=-1,t=a.length}r=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];a.push(new m(e,t)),1!==a.length||c||l(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=g,n.addListener=g,n.once=g,n.off=g,n.removeListener=g,n.removeAllListeners=g,n.emit=g,n.prependListener=g,n.prependOnceListener=g,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},s={};function r(e){var n=s[e];if(void 0!==n)return n.exports;var o=s[e]={exports:{}},i=!0;try{t[e](o,o.exports,r),i=!1}finally{i&&delete s[e]}return o.exports}r.ab="//";var n=r(229);e.exports=n}()},8809:function(e,t,s){"use strict";function r(e,t){if(!e||!Array.isArray(e))return console.warn("safeFilter: Input is not an array:",typeof e,e),[];try{return e.filter(t)}catch(e){return console.error("safeFilter error:",e),[]}}s.d(t,{qP:function(){return r}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=9163)}),_N_E=e.O()}]);