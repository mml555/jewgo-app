(()=>{var e={};e.id=613,e.ids=[613],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},94746:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>d,routeModule:()=>u,tree:()=>c}),t(51804),t(11506),t(35866);var a=t(23191),r=t(88716),n=t(37922),l=t.n(n),i=t(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["health",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,51804)),"/Users/mendell/jewgo app/frontend/app/health/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,11506)),"/Users/mendell/jewgo app/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mendell/jewgo app/frontend/app/health/page.tsx"],h="/health/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/health/page",pathname:"/health",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19286:(e,s,t)=>{Promise.resolve().then(t.bind(t,48221))},3942:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},36074:()=>{},48221:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(10326),r=t(17577);let n="https://jewgo.onrender.com";class l{static async checkHealth(e=1e4){let s=Date.now();try{let t=new AbortController,a=setTimeout(()=>t.abort(),e),r=await fetch(`${n}/health`,{method:"GET",headers:{Accept:"application/json"},signal:t.signal});clearTimeout(a);let l=Date.now()-s;if(!r.ok)return{isHealthy:!1,error:`HTTP ${r.status}: ${r.statusText}`,responseTime:l};let i=await r.json();return{isHealthy:"healthy"===i.status,response:i,responseTime:l}}catch(a){let t=Date.now()-s;if(a instanceof Error&&"AbortError"===a.name)return{isHealthy:!1,error:`Request timed out after ${e}ms - backend server may be down or overloaded`,responseTime:t};return{isHealthy:!1,error:a instanceof Error?a.message:"Unknown error",responseTime:t}}}static async checkApiEndpoints(){let e;let s=await this.checkHealth(),t=Date.now(),a=!1;try{let s=new AbortController,t=setTimeout(()=>s.abort(),15e3),r=await fetch(`${n}/api/restaurants?limit=1`,{method:"GET",headers:{Accept:"application/json"},signal:s.signal});if(clearTimeout(t),r.ok){let e=await r.json();a=e&&(Array.isArray(e)||e.restaurants&&Array.isArray(e.restaurants))}else e=`HTTP ${r.status}: ${r.statusText}`}catch(s){e=s instanceof Error&&"AbortError"===s.name?"Request timed out":s instanceof Error?s.message:"Unknown error"}return{health:s,restaurants:{success:a,error:e,responseTime:Date.now()-t}}}}let i=()=>l.checkApiEndpoints();function o(){let[e,s]=(0,r.useState)(null),[t,n]=(0,r.useState)(!0),[l,o]=(0,r.useState)(null),c=async()=>{n(!0);try{let e=await i();s(e),o(new Date)}catch(e){console.error("Health check failed:",e),s({health:{isHealthy:!1,error:e instanceof Error?e.message:"Unknown error",responseTime:0},restaurants:{success:!1,error:e instanceof Error?e.message:"Unknown error",responseTime:0}})}finally{n(!1)}},d=e=>e?"text-green-600":"text-red-600",h=e=>e?"✅":"❌";return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Backend Health Check"}),a.jsx("button",{onClick:c,disabled:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:t?"Checking...":"Refresh"})]}),l&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-6",children:["Last checked: ",l.toLocaleString()]}),e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-3 flex items-center",children:[a.jsx("span",{className:"mr-2",children:h(e.health.isHealthy)}),"Health Endpoint",(0,a.jsxs)("span",{className:`ml-2 text-sm ${d(e.health.isHealthy)}`,children:["(",e.health.responseTime,"ms)"]})]}),e.health.isHealthy?(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-green-600 font-medium",children:"✅ Backend is healthy"}),e.health.response&&a.jsx("div",{className:"bg-gray-50 p-3 rounded",children:a.jsx("pre",{className:"text-sm overflow-auto",children:JSON.stringify(e.health.response,null,2)})})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-red-600 font-medium",children:"❌ Backend is unhealthy"}),e.health.error&&a.jsx("p",{className:"text-red-600 text-sm",children:e.health.error})]})]}),(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold mb-3 flex items-center",children:[a.jsx("span",{className:"mr-2",children:h(e.restaurants.success)}),"Restaurants API",(0,a.jsxs)("span",{className:`ml-2 text-sm ${d(e.restaurants.success)}`,children:["(",e.restaurants.responseTime,"ms)"]})]}),e.restaurants.success?a.jsx("p",{className:"text-green-600 font-medium",children:"✅ Restaurants API is working"}):(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-red-600 font-medium",children:"❌ Restaurants API is not working"}),e.restaurants.error&&a.jsx("p",{className:"text-red-600 text-sm",children:e.restaurants.error})]})]}),(0,a.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[a.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Overall Status"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"font-medium",children:["Backend Health:",a.jsx("span",{className:`ml-2 ${d(e.health.isHealthy)}`,children:e.health.isHealthy?"Healthy":"Unhealthy"})]}),(0,a.jsxs)("p",{className:"font-medium",children:["API Endpoints:",a.jsx("span",{className:`ml-2 ${d(e.restaurants.success)}`,children:e.restaurants.success?"Working":"Not Working"})]}),!e.health.isHealthy&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:[a.jsx("h3",{className:"font-medium text-yellow-800 mb-2",children:"Troubleshooting Tips:"}),(0,a.jsxs)("ul",{className:"text-sm text-yellow-700 space-y-1",children:[a.jsx("li",{children:"• The backend server may be in sleep mode (common with free hosting)"}),a.jsx("li",{children:"• Try refreshing the page in a few minutes"}),a.jsx("li",{children:"• Check if the backend service is running on Render"}),a.jsx("li",{children:"• Database connection issues may be causing the timeout"})]})]})]})]})]}),t&&(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Checking backend status..."})]})]})})})}},51804:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/Users/mendell/jewgo app/frontend/app/health/page.tsx#default`)},11506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o,metadata:()=>l,viewport:()=>i});var a=t(19510),r=t(85384),n=t.n(r);t(67272);let l={title:"Jewgo - Find Your Kosher Eatery",description:"Discover the best kosher restaurants, synagogues, and Jewish businesses in your area.",keywords:"kosher, restaurants, Jewish, eatery, synagogue, mikvah, stores",authors:[{name:"Jewgo Team"}],appleWebApp:{capable:!0,statusBarStyle:"default",title:"Jewgo"},other:{"mobile-web-app-capable":"yes"},formatDetection:{telephone:!1}},i={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,themeColor:"#A8E6CF"};function o({children:e}){return a.jsx("html",{lang:"en",className:"h-full",children:a.jsx("body",{className:`${n().className} h-full antialiased`,children:a.jsx("div",{className:"min-h-full bg-gray-50 flex flex-col",children:e})})})}},67272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[948,892],()=>t(94746));module.exports=a})();