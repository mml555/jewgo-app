(()=>{var e={};e.id=752,e.ids=[752],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},96541:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(32973),s(11506),s(35866);var a=s(23191),r=s(88716),n=s(37922),l=s.n(n),i=s(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["specials",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,32973)),"/Users/mendell/jewgo app/frontend/app/specials/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"/Users/mendell/jewgo app/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/mendell/jewgo app/frontend/app/specials/page.tsx"],m="/specials/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/specials/page",pathname:"/specials",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4489:(e,t,s)=>{Promise.resolve().then(s.bind(s,8234))},8234:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(10326),r=s(17577),n=s(35047),l=s(96968),i=s(3626),o=s(86871),c=s(78998);function d(){let e=(0,n.useRouter)(),[t,s]=(0,r.useState)([]),[d,m]=(0,r.useState)(!0),[u,x]=(0,r.useState)(null),[p,h]=(0,r.useState)("all"),[g,b]=(0,r.useState)(""),[j,f]=(0,r.useState)(new Set),[v,w]=(0,r.useState)(!1),y=(0,r.useMemo)(()=>[{id:"all",name:"All Specials",count:t.length},{id:"shabbat",name:"Shabbat",count:t.filter(e=>"shabbat"===e.category).length},{id:"lunch",name:"Lunch",count:t.filter(e=>"lunch"===e.category).length},{id:"dinner",name:"Dinner",count:t.filter(e=>"dinner"===e.category).length},{id:"breakfast",name:"Breakfast",count:t.filter(e=>"breakfast"===e.category).length},{id:"dessert",name:"Dessert",count:t.filter(e=>"dessert"===e.category).length},{id:"catering",name:"Catering",count:t.filter(e=>"catering"===e.category).length},{id:"promotion",name:"Promotions",count:t.filter(e=>"promotion"===e.category).length},{id:"discount",name:"Discounts",count:t.filter(e=>"discount"===e.category).length},{id:"event",name:"Events",count:t.filter(e=>"event"===e.category).length}],[t]),N=(0,r.useMemo)(()=>t.filter(e=>"all"===p||e.category===p).filter(e=>!g.trim()||e.title.toLowerCase().includes(g.toLowerCase())||e.restaurant.toLowerCase().includes(g.toLowerCase())||e.description.toLowerCase().includes(g.toLowerCase())),[t,p,g]),k=e=>{try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(e){return"Valid until further notice"}},C=(0,r.useCallback)(e=>{b(e)},[]),S=async e=>{f(t=>new Set(t).add(e));try{let t=`https://jewgo.onrender.com/api/specials/${e}/claim`,s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(s.ok){let e=await s.json();(0,c.CF)(e.message||"Deal claimed successfully!","success")}else await new Promise(e=>setTimeout(e,1e3)),(0,c.CF)("Deal claimed successfully!","success")}catch(e){console.error("Failed to claim deal:",e),(0,c.CF)("Failed to claim deal. Please try again.","error")}finally{f(t=>{let s=new Set(t);return s.delete(e),s})}},P=t=>{let s=encodeURIComponent(t);e.push(`/?search=${s}`)};return d?a.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-jewgo-primary"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-neutral-50",children:[a.jsx(l.Z,{}),a.jsx("div",{className:"px-4 py-4",children:a.jsx(i.Z,{onSearch:C})}),a.jsx("div",{className:"px-4 py-2 bg-white border-b border-gray-100",children:a.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide",children:(0,a.jsxs)("button",{onClick:()=>e.push("/"),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Eatery"]})})}),a.jsx("div",{className:"px-4 py-6 pb-24",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"text-4xl mb-4",children:"\uD83C\uDF89"}),a.jsx("h1",{className:"text-2xl font-bold text-neutral-800 mb-2",children:"Kosher Specials"}),a.jsx("p",{className:"text-neutral-600",children:"Exclusive deals and promotions from kosher establishments"})]}),u&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-700 text-sm",children:u})}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide",children:y.map(e=>(0,a.jsxs)("button",{onClick:()=>h(e.id),className:`flex-shrink-0 px-4 py-2 rounded-full text-sm font-medium transition-colors ${p===e.id?"bg-gradient-jewgo text-white":"bg-white text-neutral-700 hover:bg-neutral-50"}`,children:[e.name," (",e.count,")"]},e.id))})}),0===N.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDE14"}),a.jsx("h3",{className:"text-xl font-semibold text-neutral-800 mb-2",children:"No Specials Available"}),a.jsx("p",{className:"text-neutral-600",children:"Check back later for new deals and promotions!"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,a.jsxs)("div",{className:"h-48 bg-gradient-to-br from-jewgo-400/20 to-jewgo-400/40 relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:"text-6xl",children:"\uD83C\uDF7D️"})}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:e.discount})})]}),(0,a.jsxs)("div",{className:"p-4",children:[a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsx("h3",{className:"font-semibold text-neutral-800 text-lg",children:e.title})}),a.jsx("p",{className:"text-neutral-600 text-sm mb-2",children:e.restaurant}),a.jsx("p",{className:"text-neutral-700 mb-3",children:e.description}),a.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-neutral-500",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,a.jsxs)("span",{children:["Valid until ",k(e.validUntil)]})]})}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>S(e.id),disabled:j.has(e.id),className:"flex-1 bg-gradient-jewgo text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-jewgo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:j.has(e.id)?(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Claiming..."})]}):"Claim Deal"}),a.jsx("button",{onClick:()=>P(e.restaurant),className:"flex-1 bg-neutral-100 text-neutral-700 py-2 px-4 rounded-lg text-sm font-medium hover:bg-neutral-200 transition-colors",children:"View Restaurant"})]})]})]},e.id))}),a.jsx("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-neutral-800 mb-2",children:"Get Special Deals First!"}),a.jsx("p",{className:"text-neutral-600 mb-4",children:"Subscribe to receive exclusive kosher specials and promotions"}),(0,a.jsxs)("div",{className:"flex max-w-md mx-auto space-x-2",children:[a.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-3 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-jewgo-400 focus:border-transparent"}),a.jsx("button",{className:"bg-gradient-jewgo text-white px-4 py-2 rounded-lg font-medium hover:bg-jewgo-600 transition-colors",children:"Subscribe"})]})]})})]})}),a.jsx(o.Z,{})]})}function m(){return a.jsx(d,{})}},32973:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/mendell/jewgo app/frontend/app/specials/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[216,592],()=>s(96541));module.exports=a})();