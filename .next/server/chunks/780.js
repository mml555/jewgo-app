"use strict";exports.id=780,exports.ids=[780],exports.modules={7780:(e,o,t)=>{t.d(o,{Z:()=>UnifiedSearchBar});var r=t(784),s=t(9885),a=t(9518),l=t(6206),n=t(7094);function UnifiedSearchBar({onRestaurantSearch:e,onLocationSearch:o,onUseCurrentLocation:t,placeholder:i="Search restaurants, locations, cities, or zip codes...",restaurants:c=[]}){let[d,u]=(0,s.useState)(""),[g,h]=(0,s.useState)(!1),[m,f]=(0,s.useState)(!1),[p,w]=(0,s.useState)([]),x=(0,s.useRef)(null),isGoogleMapsLoaded=()=>!1,handleLocationSearch=async()=>{if(d.trim()){console.log("Starting location search for:",d),h(!0);try{if(!isGoogleMapsLoaded()){console.error("Google Maps API not loaded"),e(d);return}let t=new window.google.maps.Geocoder;console.log("Geocoding address:",d);let r=await t.geocode({address:d});if(console.log("Geocoding result:",r),r.results[0]){let e=r.results[0].geometry.location,t={latitude:e.lat(),longitude:e.lng()};console.log("Location found:",t),o(t,d)}else console.log("No results found for address:",d),e(d)}catch(o){console.error("Error in location search:",o),e(d)}finally{h(!1),f(!1)}}},handleSmartSearch=()=>{if(!d.trim())return;let o=["street","avenue","road","drive","lane","boulevard","way","plaza","square","park"].some(e=>d.toLowerCase().includes(e))||/\d/.test(d);o&&isGoogleMapsLoaded()?handleLocationSearch():e(d)},handleSuggestionClick=o=>{u(o),f(!1),e(o)};return(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(a.Z,{className:"h-5 w-5 text-gray-400"})}),r.jsx("input",{ref:x,type:"text",value:d,onChange:e=>{let o=e.target.value;if(u(o),o.trim().length>2){let e=c.filter(e=>e.name?.toLowerCase().includes(o.toLowerCase())||e.address?.toLowerCase().includes(o.toLowerCase())||e.city?.toLowerCase().includes(o.toLowerCase())||!1).map(e=>e.name||"Unknown Restaurant").slice(0,5);w(e),f(!0)}else f(!1)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),d.trim()&&handleSmartSearch())},placeholder:i,className:"block w-full pl-10 pr-20 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jewgo-primary focus:border-transparent bg-white shadow-sm"}),d&&r.jsx("button",{onClick:()=>{u(""),f(!1),w([]),x.current&&x.current.focus()},className:"absolute inset-y-0 right-16 pr-3 flex items-center",children:r.jsx(l.Z,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})}),r.jsx("button",{onClick:t,className:"absolute inset-y-0 right-0 pr-3 flex items-center",title:"Use current location",children:r.jsx(n.Z,{className:"h-5 w-5 text-jewgo-primary hover:text-jewgo-primary-dark"})})]}),m&&p.length>0&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:p.map((e,o)=>r.jsx("button",{onClick:()=>handleSuggestionClick(e),className:"w-full px-4 py-2 text-left hover:bg-gray-100 focus:bg-gray-100 focus:outline-none",children:e},o))}),g&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75 rounded-lg",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-jewgo-primary"})})]})}}};