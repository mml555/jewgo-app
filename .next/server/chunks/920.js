"use strict";exports.id=920,exports.ids=[920],exports.modules={8920:(e,t,s)=>{s.d(t,{Z:()=>SearchBar});var l=s(784),r=s(9885);function SearchBar({onSearch:e,placeholder:t="Search restaurants, agencies, or dietary preferences..."}){let[s,o]=(0,r.useState)(""),[a,n]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)([]),[x,m]=(0,r.useState)(!1),[g,h]=(0,r.useState)(null),p=(0,r.useRef)(),f=(0,r.useRef)(),v=(0,r.useRef)(null),w=(0,r.useRef)(null),b=(0,r.useRef)(null);(0,r.useEffect)(()=>{let initializeGooglePlaces=()=>{if(window.google&&window.google.maps&&window.google.maps.places)try{if(window.google.maps.places.AutocompleteSuggestion)w.current=new window.google.maps.places.AutocompleteSuggestion;else if(window.google.maps.places.AutocompleteService)w.current=new window.google.maps.places.AutocompleteService;else{console.warn("Google Places API not available"),h("Places API not available");return}let e=document.createElement("div");b.current=new window.google.maps.places.PlacesService(e)}catch(e){console.error("Error initializing Google Places:",e),h("Failed to initialize Places API")}};if(window.google&&window.google.maps)initializeGooglePlaces();else{let e=setInterval(()=>{window.google&&window.google.maps&&(initializeGooglePlaces(),clearInterval(e))},100);setTimeout(()=>{clearInterval(e),w.current||h("Google Maps failed to load")},1e4)}},[]),(0,r.useEffect)(()=>(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{e(s)},300),()=>{p.current&&clearTimeout(p.current)}),[s,e]),(0,r.useEffect)(()=>(f.current&&clearTimeout(f.current),s.length>2&&w.current&&!g?(m(!0),d([]),f.current=setTimeout(()=>{fetchPlaceSuggestions(s)},500)):(d([]),m(!1)),()=>{f.current&&clearTimeout(f.current)}),[s,g]);let fetchPlaceSuggestions=async e=>{if(w.current)try{if(w.current.getPlacePredictions){let t=await w.current.getPlacePredictions({input:e,types:["establishment","geocode","address"],componentRestrictions:{country:"us"}});m(!1),t&&t.predictions?d(t.predictions):d([])}else w.current.getPlacePredictions({input:e,types:["establishment","geocode","address"],componentRestrictions:{country:"us"}},(e,t)=>{m(!1),t===window.google.maps.places.PlacesServiceStatus.OK&&e?d(e):d([])})}catch(e){console.error("Error fetching place suggestions:",e),m(!1),d([]),h("Failed to fetch suggestions")}},handleSuggestionClick=t=>{o(t),e(t),c(!1),d([]),v.current?.focus()},handlePlaceSuggestionClick=t=>{let s=t.description;o(s),e(s),c(!1),d([]),v.current?.focus()},j=[{label:"ORB Certified",value:"ORB",icon:"✓",color:"bg-agency-orb"},{label:"KM Certified",value:"KM",icon:"\uD83E\uDD5B",color:"bg-agency-km"},{label:"KDM Certified",value:"KDM",icon:"\uD83C\uDF7D️",color:"bg-agency-kdm"},{label:"Diamond K",value:"Diamond K",icon:"\uD83D\uDC8E",color:"bg-agency-diamond-k"},{label:"Meat Restaurants",value:"meat",icon:"\uD83E\uDD69",color:"bg-kosher-meat"},{label:"Dairy Restaurants",value:"dairy",icon:"\uD83E\uDD5B",color:"bg-kosher-dairy"},{label:"Pareve Restaurants",value:"pareve",icon:"\uD83E\uDD6C",color:"bg-kosher-pareve"},{label:"Miami Beach",value:"Miami Beach",icon:"\uD83C\uDFD6️",color:"bg-accent-blue"},{label:"Hollywood FL",value:"Hollywood",icon:"\uD83C\uDFAC",color:"bg-accent-orange"},{label:"Boca Raton",value:"Boca",icon:"\uD83C\uDF34",color:"bg-accent-green"}],k=j.filter(e=>e.label.toLowerCase().includes(s.toLowerCase())||e.value.toLowerCase().includes(s.toLowerCase())),N=u.length>0,y=k.length>0,D=i&&(s.length>0||a);return(0,l.jsxs)("div",{className:"relative",children:[l.jsx("form",{onSubmit:e=>e.preventDefault(),children:(0,l.jsxs)("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 sm:pl-4 flex items-center pointer-events-none",children:l.jsx("svg",{className:`h-5 w-5 transition-colors duration-200 ${a?"text-jewgo-400":"text-neutral-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),l.jsx("input",{ref:v,type:"text",placeholder:t,value:s,onChange:e=>{let t=e.target.value;o(t),c(t.length>0),h(null)},onFocus:()=>{n(!0),s.length>0&&c(!0)},onBlur:()=>{n(!1),setTimeout(()=>{c(!1),d([])},200)},onKeyDown:e=>{"Escape"===e.key&&(c(!1),d([]),v.current?.blur())},className:"w-full pl-12 pr-12 py-2.5 sm:py-3 rounded-xl bg-white border border-neutral-300 focus:border-jewgo-400 focus:ring-jewgo-400/20 focus:outline-none transition-all duration-200 shadow-soft text-base",autoComplete:"off"}),l.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s&&l.jsx("button",{type:"button",onClick:()=>{o(""),e(""),d([]),h(null),v.current?.focus()},className:"p-1 text-neutral-400 hover:text-jewgo-400 transition-colors duration-200",title:"Clear search",children:l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})})]})}),D&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-neutral-200 rounded-xl shadow-strong z-50 animate-fade-in-up max-h-80 overflow-y-auto",children:(0,l.jsxs)("div",{className:"p-2",children:[s.length>0&&(0,l.jsxs)("div",{className:"text-xs text-neutral-500 px-3 py-1 border-b border-neutral-100 mb-2",children:['Search suggestions for "',s,'"']}),N&&(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsxs)("div",{className:"text-xs text-neutral-500 px-3 py-1 mb-2 flex items-center",children:[(0,l.jsxs)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Locations & Places"]}),l.jsx("div",{className:"space-y-1",children:u.slice(0,5).map(e=>(0,l.jsxs)("button",{onClick:()=>handlePlaceSuggestionClick(e),className:"w-full text-left px-3 py-2 text-sm text-neutral-700 hover:bg-neutral-50 rounded-lg transition-colors duration-200 flex items-center space-x-3",children:[l.jsx("span",{className:"w-2 h-2 bg-accent-blue rounded-full flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:"\uD83D\uDCCD"}),(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:e.structured_formatting.main_text}),l.jsx("div",{className:"text-xs text-neutral-500",children:e.structured_formatting.secondary_text})]})]},e.place_id))})]}),g&&l.jsx("div",{className:"px-3 py-2 text-sm text-status-error bg-status-error-light rounded-lg mb-2",children:(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),g]})}),x&&(0,l.jsxs)("div",{className:"px-3 py-2 text-sm text-neutral-500 flex items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-jewgo-400 mr-2"}),"Searching locations..."]}),y&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"text-xs text-neutral-500 px-3 py-1 mb-2 flex items-center",children:[l.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Quick Searches"]}),l.jsx("div",{className:"space-y-1",children:k.map((e,t)=>(0,l.jsxs)("button",{onClick:()=>handleSuggestionClick(e.value),className:"w-full text-left px-3 py-2 text-sm text-neutral-700 hover:bg-neutral-50 rounded-lg transition-colors duration-200 flex items-center space-x-3",children:[l.jsx("span",{className:`w-2 h-2 ${e.color} rounded-full flex-shrink-0`}),l.jsx("span",{className:"text-sm",children:e.icon}),l.jsx("span",{className:"flex-1",children:e.label})]},t))})]}),!N&&!y&&!x&&!g&&s.length>0&&(0,l.jsxs)("div",{className:"px-3 py-2 text-sm text-neutral-500",children:['No suggestions found for "',s,'"']}),!s&&!N&&!y&&!g&&(0,l.jsxs)("div",{className:"space-y-1",children:[l.jsx("div",{className:"text-xs text-neutral-500 px-3 py-1",children:"Popular searches"}),j.slice(0,5).map((e,t)=>(0,l.jsxs)("button",{onClick:()=>handleSuggestionClick(e.value),className:"w-full text-left px-3 py-2 text-sm text-neutral-700 hover:bg-neutral-50 rounded-lg transition-colors duration-200 flex items-center space-x-3",children:[l.jsx("span",{className:`w-2 h-2 ${e.color} rounded-full flex-shrink-0`}),l.jsx("span",{className:"text-sm",children:e.icon}),l.jsx("span",{className:"flex-1",children:e.label})]},t))]})]})})]})}}};